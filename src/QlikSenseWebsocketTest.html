<html>
	<head>
<script src="https://rawgit.com/davidshimjs/qrcodejs/master/qrcode.min.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<!-- JQuery -->
<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>


<style>
	h1 {
		font-size: 26px;
	}
	h2 {
		font-size: 16px;
	}
	#Timing {
		padding-left: 10px;
	}
	#UpdateLastMsgErrors {
		padding-top: 10px;
	}
	div.alert {
		padding: 7px;
	}
	.flex-container {
		display: flex;
	}
	.flex-grow1 {
		flex-grow: 1;
	}
	.flex-grow2 {
		flex-grow: 2;
	}
	.testB {
		padding: 0 30px;
	}
	.credits {
		font-size: 10px;
		margin-top: 20px;
	}

	.chart * {
	    font-family: Arial, Helvetica, sans-serif;
	}
	.chart  {
		width: 100%;
	}



	.bar {
		background-color: lightblue;
		display: flex;
		border: 1px solid rgb(127, 171, 185);
	}
	.bar .element {
		border-left: 3px solid rgb(82, 82, 82);
		text-align: center;
		height: 3em;
		line-height: 3em;
	}
	.bar .element {
		background-color: #e7e7e7;
	}
	.bar .element.waiting {
		background-color: #cecece;
	}
	.bar .element.ok {
		background-color: #9fd392;
		/* background-color: #7bc868; */
	}
	.bar .element.error {
		background-color: #fcc4c4;
		/* background-color: #ee7e5c; */
	}
	.bar .element div {
		width: 100%;
		height: 100%;
	}
	.bar .element.w1of2 {
		width: 50%;
	}
	.bar .element.w1of4 {
		width: 25%;
	}
	.bar .element.w1of8 {
		width: 12.5%;
	}
	.bar .element.w1of16 {
		width: 6.25%;
	}
	.bar .element.w1of32 {
		width: 3.125%;
	}
	.bar .element.w1of64 {
		width: 1.5625%;
	}

	.bar .element.w1of32 ::after {
		font-size: 0.6em;
	}
	.bar .element.w1of64 ::after {
		font-size: 0.4em;
	}
	.bar .element.waiting div:after {
		content: 'ðŸ•‘';
	}





	.label-group {
		position: relative;
		height: 2em;
	}
	.slice-label {
		position: absolute;
		justify-content: center;
		/* transform: translate(-40%, 0); */
	}
	.slice-label.v0 {
		left: 0%;
	}
	.slice-label.v1of1 {
		right: 0%;
	}
	.slice-label.v1of2 {
		left: 50%;
	}
	.slice-label.v1of4 {
		left: 25%;
	}
	.slice-label.v1of8 {
		left: 12.5%;
	}
	.slice-label.v1of16 {
		left: 7.25%;
	}
	.slice-label.v1of32 {
		left: 3.625%;
	}
	.slice-label.v1of64 {
		left: 1.8125%;
	}


</style>
</head>
<body>
  <div>
    <div>
      <div style="float: left; margin: 20px 20px 20px 20px;">
        <h1>Qlik Sense Websocket Connectivity Tester</h1>
      </div>
    </div>
  </div>
  <div style="clear: both">
    <div id="AuthenticatedDiv" class="alert alert-danger" role="alert">
      <span id="AuthenticatedIcon" class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>
      <span id="Authenticated">Authentication</span>
    </div>
    <div id="ConnectedWSSDiv" class="alert alert-danger" role="alert">
      <span id="ConnectedWSSIcon" class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>
      <span id="ConnectedWSS">Connect secure websocket</span>
    </div>
    <div id="ProductVersionWSSDiv" class="alert alert-danger" role="alert">
      <span id="ProductVersionWSSIcon" class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>
      <span id="ProductVersionWSS">Product version collected through secure websocket</span>
    </div>
    <div id="DocListWSSDiv" class="alert alert-danger" role="alert">
      <span id="DocListWSSIcon" class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>
      <span id="DocListWSS">Application list through secure websocket</span>
    </div>
    <div id="ConnectedWSDiv" class="alert alert-danger" role="alert">
      <span id="ConnectedWSIcon" class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>
      <span id="ConnectedWS">Connect websocket</span>
    </div>
    <div id="ProductVersionWSDiv" class="alert alert-danger" role="alert">
      <span id="ProductVersionWSIcon" class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>
      <span id="ProductVersionWS">Product version collected through websocket</span>
    </div>
    <div id="DocListWSDiv" class="alert alert-danger" role="alert">
      <span id="DocListWSIcon" class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>
      <span id="DocListWS">Application list through websocket</span>
	</div>
	<div class="flex-container">
		<div class="flex-grow1 testA">
			<h2>A) Websocket with continous activity</h2>
			<div class="chart-container" style="position: relative; height:100px; width:75%">
				<canvas id="Chart"></canvas>
				<div style="font-size:smaller">Websocket ping response (ms)</div>
			</div>
		</div>
		<div class="testB">			
			<h2>B) No activity</h2>
			<div id="idleclock">
				<span>This websocket has been idle for:</span>
				<h3></h3>
			</div>
		</div>
		<div class="flex-grow2 testC">			
			<h2>C) Websocket with long idle periods</h2>
			<div id="testC"></div>
		</div>
	</div>

  </div>
</body>

<script src="..\bundle.js"></script>
</html>